//
// EDF for Eternity Engine v4.03.00+
//
// Thing type definitions for Strife gamemode.
//

thingtype StrifePlayer : Mobj
{
  //speakerid/conversationid 1

  spawnhealth  100
  reactiontime 0
  painchance   255
  painsound    st_plpain
  deathsound   st_pldeth

  radius       18.0
  height       56.0

  cflags SOLID|SHOOTABLE|DROPOFF|PICKUP|NOTDMATCH|FOOTCLIP|SLIDE|WINDTHRUST|PASSMOBJ // STRIFE_TODO: MF_ALLY

  states
  @"
  Spawn:
    PLAY A -1
    stop
  See:
    PLAY ABCD 4
    loop
  Missile:
    PLAY E 12
    goto Spawn
  Pain:
    PLAY Q 4
    PLAY Q 4 A_Pain
    goto Spawn
  Death:
    PLAY H 3
    PLAY I 3 A_PlayerScream
    PLAY J 3 A_Fall
    PLAY KLMNO 4
    PLAY P 700
    goto DeathLoop
  XDeath:
    RGIB A 5 // STRIFE_TODO: A_BodyParts
    RGIB B 5 A_XScream
    RGIB C 5 A_Fall
    RGIB DEFG 5 //A_BodyParts
  DeathLoop:
    RGIB H 1400 // STRIFE_TODO: A_CheckPlayerDone
    loop
  "@
}

thingtype ForceFieldGuard : Mobj, 7625
{
  //speakerid/conversationid 0

  spawnhealth 10

  radius      2.0
  height      1.0
  mass        10000

  cflags SHOOTABLE|NOSECTOR // STRIFE_TODO: MF_NODIALOG

  states
  @"
  Spawn:
    TOKN A -1
    stop
  Death:
    XPRK A 1 // STRIFE_TODO: A_RemoveForceField
    stop
  "@
}

thingtype Merchant : Mobj
{
  spawnhealth 10000000
  painchance  150

  radius      20.0
  height      50.0
  mass        5000

  cflags SOLID|SHOOTABLE|NOTDMATCH|NODAMAGE // SVE_TODO: MF2_NOREBELATTACK

  // These are in the same order as SVE's info.c
  states
  @"
  // Yes/No States
  Yes:
    MRYS A 30
    goto Spawn
  No:
    MRNO A 6
    MRNO B 6
    MRNO C 10
    MRNO B 6
    MRNO A 6
    goto Spawn
  // Ordinary States
  Spawn:
    MRST A 10 // STRIFE_TODO: A_FriendLook
    loop
  Idle1:
    MRLK A 30 // STRIFE_TODO: A_ActiveSound
    loop
  Idle2:
    MRLK B 30
    loop
  Idle3:
    MRBD ABCDEDCB 4
    MRBD A 5
    MRBD F 6
    loop
  See:
  Pain:
    MRPN A 3
    MRPN B 3 A_Pain
    MRPN C 3
    MRPN D 9 // STRIFE_TODO: A_MerchantPain
    MRPN C 4
    MRPN B 3
    MRPN A 3 // STRIFE_TODO: A_ClearSoundTarget
    goto Spawn
  // Greetings States
  Greetings:
    MRGT A 5
    MRGT B 5
    MRGT C 5
    MRGT D 5
    MRGT E 5
    MRGT F 5
    MRGT G 5
    MRGT H 5
    MRGT I 5
  "@
}

thingtype WeaponSmith : Merchant, 7716
{
  //speakerid/conversationid 2

  painsound   pespna
}

thingtype BarKeep : WeaponSmith, 7672
{
  //speakerid/conversationid 3

  painsound   ambbar
  activesound ambppl

  translation TR_STCS5
}

thingtype Armorer : WeaponSmith, 7673
{
  //speakerid/conversationid 4

  painsound   pespna

  translation TR_STCS6
}

thingtype Medic : WeaponSmith, 7673
{
  //speakerid/conversationid 5

  painsound   pespna

  translation TR_STCS7
}

// STRIFE_FIXME: Should A_RandomWalk be replaced w/ a new codepointer called A_Wander?
thingtype Peasant : Mobj
{
  spawnhealth  31
  reactiontime 8
  painchance   200
  speed        4

  seesound     rebact
  attacksound  meatht
  painsound    pespna
  deathsound   psdtha
  activesound  rebact

  radius       20.0
  height       56.0
  mass         100

  cflags       SOLID|SHOOTABLE|JUSTHIT|COUNTKILL // SVE_TODO: MF2_NOSTONECOLD|MF2_NOREBELATTACK|MF2_DRAWBILLBOARD

  states @"
  Spawn:
    PEAS A 10 // STRIFE_TODO: A_FriendLook
    loop
  See:
    PEAS AA 5 A_RandomWalk
    PEAS BB 5 A_RandomWalk
    PEAS CC 5 A_RandomWalk
    PEAS DD 5 A_RandomWalk
    goto Spawn
  Melee:
    PEAS E 10 A_FaceTarget
    PEAS F 8 // STRIFE_TODO: A_PeasantPunch
    PEAS E 8
    goto See
  Pain:
    PEAS O 3
    PEAS O 3 A_Pain
    goto Melee
  Crash:
    PEAS G 5
    PEAS H 10 // STRIFE_TODO: A_PeasantCrash
    PEAS I 6
    goto Crash+1
  Death:
    PEAS G 5
    PEAS H 5 A_Scream
    PEAS I 6
    PEAS J 5 A_Fall
    PEAS K 5
    PEAS L 6
    PEAS M 8
    PEAS N 1400
    stop
  XDeath:
    GIBS M 5 // STRIFE_TODO: A_BodyParts
    GIBS N 5 A_XScream
    GIBS O 5 A_Fall
    GIBS PQRS 4 // STRIFE_TODO: A_BodyParts
    GIBS T 4
    GIBS U 5
    GIBS V 1400
    stop
  "@
}

thingtype Peasant2A : Peasant, 7954
{
  //speakerid/conversationid 6

  speed       4
}

thingtype Peasant2B : Peasant, 7730
{
    //speakerid/conversationid 7

  speed       5
}

thingtype Peasant2C : Peasant, 7731
{
  //speakerid/conversationid 8

  speed       5
}

thingtype Peasant5A : Peasant, 7665
{
  //speakerid/conversationid 9

  speed       7
  translation TR_STCS1
}

thingtype Peasant5B : Peasant, 7732
{
  //speakerid/conversationid 10

  speed       7
  translation TR_STCS1
}

thingtype Peasant5C : Peasant, 7733
{
  //speakerid/conversationid 11

  speed       7
  translation TR_STCS1
}

thingtype Peasant4A : Peasant, 7666
{
  //speakerid/conversationid 12

  speed       8
  translation TR_STCS3
}

thingtype Peasant4B : Peasant, 7734
{
  //speakerid/conversationid 13

  speed       8
  translation TR_STCS3
}

thingtype Peasant4C : Peasant, 7735
{
  //speakerid/conversationid 14

  speed       8
  translation TR_STCS3
}

thingtype Peasant6A : Peasant, 7667
{
  //speakerid/conversationid 15

  speed       8
  translation TR_STCS2
}

thingtype Peasant6B : Peasant, 7735
{
  //speakerid/conversationid 16

  speed       8
  translation TR_STCS2
}

thingtype Peasant6C : Peasant, 7736
{
  //speakerid/conversationid 17

  speed       8
  translation TR_STCS2
}

thingtype Peasant3A : Peasant, 7772
{
  //speakerid/conversationid 18

  speed       8
  translation TR_STCS4
}

thingtype Peasant3B : Peasant, 7773
{
  //speakerid/conversationid 19

  speed       8
  translation TR_STCS4
}

thingtype Peasant3C : Peasant, 7774
{
  //speakerid/conversationid 20

  speed       8
  translation TR_STCS4
}

thingtype Peasant8A : Peasant, 7775
{
  //speakerid/conversationid 21

  speed       8
  translation TR_STCS6
}

thingtype Peasant8B : Peasant, 7776
{
  //speakerid/conversationid 22

  speed       8
  translation TR_STCS6
}

thingtype Peasant8C : Peasant, 7777
{
  //speakerid/conversationid 23

  speed       8
  translation TR_STCS6
}

thingtype Peasant7A : Peasant, 7778
{
  //speakerid/conversationid 24

  speed       8
  translation TR_STCS5
}

thingtype Peasant7B : Peasant, 7779
{
  //speakerid/conversationid 25

  speed       8
  translation TR_STCS5
}

thingtype Peasant7C : Peasant, 7780
{
  //speakerid/conversationid 26

  speed       8
  translation TR_STCS5
}

thingtype Peasant1 : Peasant, 7781
{
  //speakerid/conversationid 27

  speed       8
  translation TR_STCS7
}

thingtype Zombie : Mobj, 7769
{
  //speakerid/conversationid 28

  spawnhealth  31
  deathsound   psdtha

  translation TR_STCS1

  cflags SOLID|SHOOTABLE|COUNTKILL // STRIFE_TODO: MF2_NOREBELATTACK|MF2_DRAWBILLBOARD

  states
  @"
  Spawn:
    PEAS A 5 // // STRIFE_TODO: A_ZombieInSpecialSector
    loop
  Pain:
    AGRD A 5 // // STRIFE_TODO: A_ZombieInSpecialSector
    loop
  Death:
    GIBS M 5 // STRIFE_TODO: A_BodyParts
    GIBS N 5 A_XScream
    GIBS O 5 A_Fall
    GIBS PQRS 4 // STRIFE_TODO: A_BodyParts
    GIBS T 4
    GIBS U 5
    GIBS V 1400
    stop
  "@
}

thingtype Becoming : Mobj, 7801
{
  //speakerid/conversationid 29

  spawnhealth   61
  deathsound    psdtha
  painchance    255

  radius        16.0 // [SVE]: made smaller due to bizarre bug on MAP27

  cflags SOLID|SHOOTABLE|COUNTKILL // STRIFE_TODO: MF_NODIALOG, SVE_TODO: MF2_DRAWBILLBOARD|MF2_IGNORENOMONSTERS

  states
  @"
  Spawn:
    ARMR A -1
    stop
  Death:
    GIBS A 5 A_Fall
    GIBS BC 5 // STRIFE_TODO: A_BodyParts
    GIBS D 4 // STRIFE_TODO: A_BodyParts
    GIBS E 4 A_XScream
    GIBS F 4 // STRIFE_TODO: A_BodyParts
    GIBS G 4
    GIBS H 4
    GIBS I 5
    GIBS J 5 // STRIFE_TODO: A_AcolyteSpecial
    GIBS K 5
    GIBS L 1400
    stop
  "@
}

thingtype ZombieSpawner : Mobj, 7770
{
  //speakerid/conversationid 30

  spawnhealth 20

  activesound st_telept

  radius      20.0
  height      20.0

  cflags SHOOTABLE|NOSECTOR

  states
  @"
  Spawn:
    PLAY A 175 // STRIFE_TODO: A_SpawnZombie
    loop
  "@
}

thingtype HugeTank : Mobj
{
  radius 16.0
  height 192.0
  mass   50000

  cflags SOLID // SVE_TODO: MF2_DRAWBILLBOARD
}

thingtype HugeTank1 : HugeTank, 7809
{
  //speakerid/conversationid 31

  states
  @"
  Spawn:
    TNK1 A 15
    TNK1 B 11
    TNK1 C 40
    loop
  "@
}

thingtype HugeTank2 : HugeTank, 7810
{
  //speakerid/conversationid 32

  states
  @"
  Spawn:
    TNK2 A 15
    TNK2 B 11
    TNK2 C 40
    loop
  "@
}

thingtype HugeTank3 : HugeTank, 7811
{
  //speakerid/conversationid 33

  states
  @"
  Spawn:
    TNK3 A 15
    TNK3 B 11
    TNK3 C 40
    loop
  "@
}

thingtype Tank : HugeTank { height 56.0 }

thingtype Tank4 : Tank, 7813
{
  //speakerid/conversationid 34

  states
  @"
  Spawn:
    TNK4 A 15
    TNK4 B 11
    TNK4 C 40
    loop
  "@
}

thingtype Tank5 : Tank, 7814
{
  //speakerid/conversationid 35

  states
  @"
  Spawn:
    TNK5 A 15
    TNK5 B 11
    TNK5 C 40
    loop
  "@
}

thingtype Tank6 : Tank, 7829
{
  //speakerid/conversationid 36

  states
  @"
  Spawn:
    TNK6 A 15
    TNK6 B 11
    TNK6 C 40
    loop
  "@
}

thingtype KneelingGuy : Mobj, 7804
{
  //speakerid/conversationid 37

  spawnhealth 51
  painchance  255

  painsound   static
  deathsound  static
  activesound chant

  radius      6.0
  height      6.0
  mass        50000

  cflags SOLID|SHOOTABLE|NOBLOOD|COUNTKILL // STRIFE_TODO: NODIALOG, SVE_TODO: MF2_NOREBELATTACK|MF2_DRAWBILLBOARD

  states
  @"
  Spawn:
  See:
    NEAL A 15 // STRIFE_TODO: A_ActiveSound
    NEAL B 40 // STRIFE_TODO: A_ActiveSound
    loop
  Death:
    NEAL D 5
    NEAL E 5 A_Scream
    NEAL F 6
    NEAL G 5 A_Fall
    NEAL H 5
    NEAL I 6
    NEAL J -1
    stop
  Crash:
    NEAL B 6
    NEAL C 13 // STRIFE_TODO: A_PeasantCrash
    loop
  "@
}

// STRIFE_FIXME: Should A_RandomWalk be replaced w/ a new codepointer called A_Wander?
thingtype Beggar : Mobj
{
  spawnhealth 20
  painchance  250
  speed       3

  attacksound  meatht
  painsound    pespna
  deathsound   psdtha

  height 56.0

  cflags SOLID|SHOOTABLE|JUSTHIT|COUNTKILL // SVE_TODO: MF2_NOSTONECOLD|MF2_NOREBELATTACK|MF2_DRAWBILLBOARD
  states
  @"
  Spawn:
    BEGR A 10 // STRIFE_TODO: A_FriendLook
  See:
    BEGR AABBCC 4 A_RandomWalk
    loop
  Melee:
    BEGR D 7
    BEGR E 8 // STRIFE_TODO: A_PeasantPunch
    BEGR E 1 A_Chase
    BEGR D 8 // STRIFE_TODO: A_CheckTargetVisible
    loop
  Pain:
    BEGR A 3 A_Pain
    BEGR A 3 A_Chase
    goto Melee
  Death:
    BEGR F 4
    BEGR G 4 A_Scream
    BEGR H 4
    BEGR I 4 A_Fall
    BEGR JKLM 4
    BEGR N -1
    stop
  XDeath:
    BEGR F 5 // STRIFE_TODO: A_BodyParts
    GIBS N 5 A_XScream
    GIBS O 5 A_Fall
    GIBS PQRS 4 // STRIFE_TODO: A_BodyParts
    GIBS T 4
    GIBS U 5
    GIBS V 1400
    stop
  "@
}

thingtype Beggar1 : Beggar, 7741
{
  //speakerid/conversationid 38
}

thingtype Beggar2 : Beggar, 7755
{
  //speakerid/conversationid 39
}

thingtype Beggar3 : Beggar, 7756
{
  //speakerid/conversationid 40
}

thingtype Beggar4 : Beggar, 7757
{
  //speakerid/conversationid 41
}

thingtype Beggar5 : Beggar, 7758
{
  //speakerid/conversationid 42
}

thingtype Rebel : Mobj
{
  spawnhealth 60
  painchance  250
  speed       8

  seesound     st_wpnup
  painsound    pespna
  deathsound   rebdth
  activesound  rebact

  height       56.0
  mass         100

  cflags       SOLID|SHOOTABLE|COUNTKILL // STRIFE_TODO: MF_ALLY, SVE_TODO: MF2_NOSTONECOLD|MF2_DRAWBILLBOARD

  states
  @"
  Spawn:
    HMN1 P 5 // STRIFE_TODO: A_FriendLook
    loop
  See:
    HMN1 AABBCCDD 3 A_Chase
    loop
  Missile:
    HMN1 E 10 A_FaceTarget
    HMN1 E 10 bright // STRIFE_TODO: Strife's A_BulletAttack
    HMN1 E 10 // STRIFE_TODO: Strife's A_BulletAttack
    goto See
  Pain:
    HMN1 N 3
    HMN1 N 3 A_Pain
    goto See
  Death:
    HMN1 G 5
    HMN1 H 5 A_Scream
    HMN1 I 3 A_Fall
    HMN1 J 4
    HMN1 KLM 3
    HMN1 N -1
    stop
  XDeath:
    RGIB A 4 // STRIFE_TODO: A_BodyParts
    RGIB B 4 A_XScream
    RGIB C 3 A_Fall
    RGIB DEF 3 // STRIFE_TODO: A_BodyParts
    RGIB G 3
    RGIB H 1400
    stop
  "@
}

thingtype Rebel1 : Rebel, 7609
{
  //speakerid/conversationid 43
}

thingtype Rebel2 : Rebel, 7744
{
  //speakerid/conversationid 44
}

thingtype Rebel3 : Rebel, 7745
{
  //speakerid/conversationid 45
}

thingtype Rebel4 : Rebel, 7749
{
  //speakerid/conversationid 46
}

thingtype Rebel5 : Rebel, 7750
{
  //speakerid/conversationid 47
}

thingtype Rebel6 : Rebel, 7751
{
  //speakerid/conversationid 48
}

thingtype RLeader : Mobj, 7664
{
  //speakerid/conversationid 49

  spawnhealth 95
  painchance  250
  speed       8

  seesound     agrsee
  painsound    pespna
  activesound  rebact

  height       56.0
  mass         100

  cflags       SOLID|SHOOTABLE|COUNTKILL|NOTDMATCH // SVE_TODO: MF2_NOSTONECOLD|MF2_NOREBELATTACK|MF2_DRAWBILLBOARD

  states
  @"
  Spawn:
    LEDR C 5 // STRIFE_TODO: A_FriendLook
    loop
  See:
  Death:
    LEAD AABBCCDD 3 A_Chase
    loop
  Missile:
    LEAD E 2 A_FaceTarget
    LEAD E 2 bright // STRIFE_TODO: Strife's A_BulletAttack
    LEAD E 1 // STRIFE_TODO: A_CheckTargetVisible
    goto See
  Pain:
    LEAD Y 3
    LEAD Y 3 A_Pain
    goto See
  "@
}

thingtype RLeader2 : Mobj, 7800
{
  //speakerid/conversationid 50

  painchance  200

  deathsound  pespna
  activesound rebact

  // STRIFE_TODO: addflags MF_SPECTRAL

  states
  @"
  Death:
  XDeath:
    LEAD G 5
    LEAD H 5 A_Scream
    LEAD IJ 4
    LEAD K 3
    LEAD L 3 A_Fall
    LEAD MNOPQRSTUV 3
    LEAD W 3 // STRIFE_TODO: A_SpawnSpectreD
    LEAD X -1
    stop
  "@
}

